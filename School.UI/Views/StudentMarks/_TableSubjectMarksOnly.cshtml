@model School.UI.ViewModels.StudentSubjectMarksVM

<style>

    .card_t {
        border-radius: 2px;
        display: inline-block;
        min-height: 100px;
        margin: 1rem;
        position: relative;
        width: calc(100% - 20px);
        padding-top: 5px;
    }

    .card-s {
        box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
        transition: all 0.3s cubic-bezier(.25,.8,.25,1);
    }

        .card-s:hover {
            box-shadow: 0 2px 4px rgba(0,0,0,0.25), 0 2px 2px rgba(0,0,0,0.22);
        }
</style>

<table id="tableId" class="table" style="border:1px solid silver;">
    <thead style="background-color:rgb(47, 71, 86);color:white;">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.StudentSubjectMarks.StudentId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.StudentSubjectMarks.FirstName)
            </th>
            <th style='display:none;'>
                @Html.DisplayNameFor(model => model.StudentSubjectMarks.SubjectName)
            </th>
            <th style='min-width:80px;max-width:80px'>
                @Html.DisplayNameFor(model => model.StudentSubjectMarks.MarkValue)
            </th>
            <th style='min-width:60px;max-width:60px;display:none;'>
                @Html.DisplayNameFor(model => model.StudentSubjectMarks.Symbol)
            </th>
            <th style='min-width:60px;max-width:60px'>
                Edit
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.StudentSubjectMarksList)
        {
            <tr>
                <td>
                    @Html.DisplayFor(model => item.StudentId)
                </td>
                <td>
                    @Html.DisplayFor(model => item.FirstName) @Html.DisplayFor(model => item.LastName)
                </td>
                <td style='display:none;'>
                    @Html.DisplayFor(model => item.SubjectName)
                </td>
                <td style='min-width:80px;max-width:80px'>
                    @Html.DisplayFor(model => item.MarkValue, new { @class = "" })
                </td>
                <td style='min-width:60px;max-width:60px;display:none;'>
                    @Html.DisplayFor(model => item.Symbol, new { @class = "" })
                </td>

                <td style='min-width:60px;max-width:60px'>
                    <button id="btnEdit" type="button" class="btnEdit btn btn-primary">Edit</button>
                </td>
            </tr>
        }
    </tbody>
</table>


<script>
    $('#tableId .btnEdit').click(function () {
        event.preventDefault();
        event.stopPropagation();
        var score = $(this).closest('td').parent('tr').find("td:eq(3)").text().trim();
        $(this).closest('td').parent('tr').find("td:eq(3)").html(" <input type='text' class='form-control' value='" + score + "' style='width:100%'/>");
    });

</script>

